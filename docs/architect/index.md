# Technical Architecture Document

## Table of Contents

- [Technical Architecture Document](#table-of-contents)
  - [Document Information](./document-information.md)
  - [Table of Contents](./table-of-contents.md)
  - [1. System Architecture Overview](./1-system-architecture-overview.md)
    - [1.1 High-Level Architecture](./1-system-architecture-overview.md#11-high-level-architecture)
    - [1.2 Technology Stack](./1-system-architecture-overview.md#12-technology-stack)
      - [1.2.1 Frontend Stack](./1-system-architecture-overview.md#121-frontend-stack)
      - [1.2.2 Backend Stack](./1-system-architecture-overview.md#122-backend-stack)
      - [1.2.3 Database & Storage](./1-system-architecture-overview.md#123-database-storage)
      - [1.2.4 Infrastructure](./1-system-architecture-overview.md#124-infrastructure)
  - [2. Database Design & Schema](./2-database-design-schema.md)
    - [2.1 Database Architecture](./2-database-design-schema.md#21-database-architecture)
      - [2.1.1 Primary Application Database (MySQL)](./2-database-design-schema.md#211-primary-application-database-mysql)
      - [2.1.2 ERP Database Integration (Dolibarr)](./2-database-design-schema.md#212-erp-database-integration-dolibarr)
    - [2.2 Application Database Schema](./2-database-design-schema.md#22-application-database-schema)
      - [2.2.1 Users Table](./2-database-design-schema.md#221-users-table)
      - [2.2.2 Delivery Confirmations Table](./2-database-design-schema.md#222-delivery-confirmations-table)
      - [2.2.3 ERP Sync Log Table](./2-database-design-schema.md#223-erp-sync-log-table)
      - [2.2.4 User Sessions Table (Laravel Sanctum)](./2-database-design-schema.md#224-user-sessions-table-laravel-sanctum)
    - [2.3 Dolibarr ERP Database Integration](./2-database-design-schema.md#23-dolibarr-erp-database-integration)
      - [2.3.1 Key Dolibarr Tables (Read-Only Access)](./2-database-design-schema.md#231-key-dolibarr-tables-read-only-access)
      - [2.3.2 Database Connection Strategy](./2-database-design-schema.md#232-database-connection-strategy)
  - [3. API Specifications](./3-api-specifications.md)
    - [3.1 API Architecture](./3-api-specifications.md#31-api-architecture)
      - [3.1.1 RESTful API Design](./3-api-specifications.md#311-restful-api-design)
      - [3.1.2 Standard Response Format](./3-api-specifications.md#312-standard-response-format)
    - [3.2 Authentication Endpoints](./3-api-specifications.md#32-authentication-endpoints)
      - [3.2.1 POST /auth/login](./3-api-specifications.md#321-post-authlogin)
      - [3.2.2 POST /auth/logout](./3-api-specifications.md#322-post-authlogout)
    - [3.3 Shipments Endpoints](./3-api-specifications.md#33-shipments-endpoints)
      - [3.3.1 GET /shipments](./3-api-specifications.md#331-get-shipments)
      - [3.3.2 GET /shipments/{id}](./3-api-specifications.md#332-get-shipmentsid)
      - [3.3.3 GET /shipments/{id}/delivery-note](./3-api-specifications.md#333-get-shipmentsiddelivery-note)
      - [3.3.4 POST /shipments/{id}/confirm-delivery](./3-api-specifications.md#334-post-shipmentsidconfirm-delivery)
    - [3.4 Orders Endpoints](./3-api-specifications.md#34-orders-endpoints)
      - [3.4.1 GET /orders](./3-api-specifications.md#341-get-orders)
    - [3.5 Customers Endpoints](./3-api-specifications.md#35-customers-endpoints)
      - [3.5.1 GET /customers/search](./3-api-specifications.md#351-get-customerssearch)
      - [3.5.2 GET /customers/{id}](./3-api-specifications.md#352-get-customersid)
    - [3.6 Calendar Endpoints](./3-api-specifications.md#36-calendar-endpoints)
      - [3.6.1 GET /calendar/deliveries](./3-api-specifications.md#361-get-calendardeliveries)
  - [4. ERP Integration Strategy](./4-erp-integration-strategy.md)
    - [4.1 Integration Architecture](./4-erp-integration-strategy.md#41-integration-architecture)
      - [4.1.1 Connection Strategy](./4-erp-integration-strategy.md#411-connection-strategy)
      - [4.1.2 Data Synchronization](./4-erp-integration-strategy.md#412-data-synchronization)
    - [4.2 Dolibarr Integration Points](./4-erp-integration-strategy.md#42-dolibarr-integration-points)
      - [4.2.1 Data Reading (FROM Dolibarr)](./4-erp-integration-strategy.md#421-data-reading-from-dolibarr)
      - [4.2.2 Data Writing (TO Dolibarr)](./4-erp-integration-strategy.md#422-data-writing-to-dolibarr)
    - [4.3 Error Handling & Retry Strategy](./4-erp-integration-strategy.md#43-error-handling-retry-strategy)
      - [4.3.1 Connection Failures](./4-erp-integration-strategy.md#431-connection-failures)
      - [4.3.2 Data Consistency](./4-erp-integration-strategy.md#432-data-consistency)
  - [5. Security Architecture](./5-security-architecture.md)
    - [5.1 Authentication & Authorization](./5-security-architecture.md#51-authentication-authorization)
      - [5.1.1 Authentication Strategy](./5-security-architecture.md#511-authentication-strategy)
      - [5.1.2 Authorization Levels](./5-security-architecture.md#512-authorization-levels)
    - [5.2 Data Security](./5-security-architecture.md#52-data-security)
      - [5.2.1 Encryption](./5-security-architecture.md#521-encryption)
      - [5.2.2 Data Privacy](./5-security-architecture.md#522-data-privacy)
    - [5.3 API Security](./5-security-architecture.md#53-api-security)
      - [5.3.1 Request Security](./5-security-architecture.md#531-request-security)
      - [5.3.2 Response Security](./5-security-architecture.md#532-response-security)
    - [5.4 File Security](./5-security-architecture.md#54-file-security)
      - [5.4.1 Signature Files](./5-security-architecture.md#541-signature-files)
  - [6. Frontend Architecture](./6-frontend-architecture.md)
    - [6.1 Angular Application Structure](./6-frontend-architecture.md#61-angular-application-structure)
    - [6.2 State Management](./6-frontend-architecture.md#62-state-management)
      - [6.2.1 NgRx Store Structure](./6-frontend-architecture.md#621-ngrx-store-structure)
    - [6.3 PWA Configuration](./6-frontend-architecture.md#63-pwa-configuration)
      - [6.3.1 Service Worker Strategy](./6-frontend-architecture.md#631-service-worker-strategy)
      - [6.3.2 Caching Strategy](./6-frontend-architecture.md#632-caching-strategy)
  - [7. Backend Architecture](./7-backend-architecture.md)
    - [7.1 Laravel Application Structure](./7-backend-architecture.md#71-laravel-application-structure)
    - [7.2 Service Layer Architecture](./7-backend-architecture.md#72-service-layer-architecture)
      - [7.2.1 Service Classes](./7-backend-architecture.md#721-service-classes)
    - [7.3 Queue System](./7-backend-architecture.md#73-queue-system)
      - [7.3.1 Job Classes](./7-backend-architecture.md#731-job-classes)
  - [8. Deployment Architecture](./8-deployment-architecture.md)
    - [8.1 Infrastructure Overview](./8-deployment-architecture.md#81-infrastructure-overview)
    - [8.2 Environment Configurations](./8-deployment-architecture.md#82-environment-configurations)
      - [8.2.1 Production Environment](./8-deployment-architecture.md#821-production-environment)
      - [8.2.2 Docker Configuration](./8-deployment-architecture.md#822-docker-configuration)
    - [8.3 Deployment Pipeline](./8-deployment-architecture.md#83-deployment-pipeline)
      - [8.3.1 CI/CD Pipeline (GitHub Actions)](./8-deployment-architecture.md#831-cicd-pipeline-github-actions)
  - [9. Performance & Scalability](./9-performance-scalability.md)
    - [9.1 Performance Optimization](./9-performance-scalability.md#91-performance-optimization)
      - [9.1.1 Database Optimization](./9-performance-scalability.md#911-database-optimization)
      - [9.1.2 Caching Strategy](./9-performance-scalability.md#912-caching-strategy)
      - [9.1.3 API Optimization](./9-performance-scalability.md#913-api-optimization)
    - [9.2 Scalability Planning](./9-performance-scalability.md#92-scalability-planning)
      - [9.2.1 Horizontal Scaling](./9-performance-scalability.md#921-horizontal-scaling)
      - [9.2.2 Monitoring & Alerting](./9-performance-scalability.md#922-monitoring-alerting)
  - [10. Implementation Roadmap](./10-implementation-roadmap.md)
    - [10.1 Phase 1: Foundation (Weeks 1-4)](./10-implementation-roadmap.md#101-phase-1-foundation-weeks-1-4)
      - [Week 1-2: Backend Setup](./10-implementation-roadmap.md#week-1-2-backend-setup)
      - [Week 3-4: Frontend Setup](./10-implementation-roadmap.md#week-3-4-frontend-setup)
    - [10.2 Phase 2: Core Features (Weeks 5-6)](./10-implementation-roadmap.md#102-phase-2-core-features-weeks-5-6)
      - [Week 5: Data Integration](./10-implementation-roadmap.md#week-5-data-integration)
      - [Week 6: UI Implementation](./10-implementation-roadmap.md#week-6-ui-implementation)
    - [10.3 Phase 3: Digital Signatures (Weeks 7-8)](./10-implementation-roadmap.md#103-phase-3-digital-signatures-weeks-7-8)
      - [Week 7: Signature System](./10-implementation-roadmap.md#week-7-signature-system)
      - [Week 8: ERP Integration](./10-implementation-roadmap.md#week-8-erp-integration)
    - [10.4 Phase 4: Testing & Deployment (Weeks 9-10)](./10-implementation-roadmap.md#104-phase-4-testing-deployment-weeks-9-10)
      - [Week 9: Testing](./10-implementation-roadmap.md#week-9-testing)
      - [Week 10: Deployment](./10-implementation-roadmap.md#week-10-deployment)
  - [Appendix A: Database Indexes](./appendix-a-database-indexes.md)
  - [Appendix B: Configuration Files](./appendix-b-configuration-files.md)
    - [Laravel Configuration](./appendix-b-configuration-files.md#laravel-configuration)
